{"ast":null,"code":"import { ref } from 'vue';\nimport { onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nexport default {\n  __name: 'MainPage',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    onMounted(() => {\n      const userAgent = navigator.userAgent.toLowerCase();\n\n      // 检测是否为桌面端（取反逻辑）\n      const isDesktop = !/iphone|ipad|ipod|android/.test(userAgent);\n      if (isDesktop) {\n        // 跳转到桌面端路由\n        //router.replace('/');\n        console.log('1');\n      }\n    });\n    const isMenuOpen = ref(false);\n    const toggleMenu = () => {\n      isMenuOpen.value = !isMenuOpen.value;\n    };\n    const closeMenu = () => {\n      if (window.innerWidth < 769) {\n        isMenuOpen.value = false;\n      }\n    };\n    const __returned__ = {\n      router,\n      isMenuOpen,\n      toggleMenu,\n      closeMenu,\n      ref,\n      onMounted,\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","useRouter","router","userAgent","navigator","toLowerCase","isDesktop","test","console","log","isMenuOpen","toggleMenu","value","closeMenu","window","innerWidth"],"sources":["D:/Works/ChunLingSoraLiveReplaySystem/frontend/src/components/mobile/MainPage.vue"],"sourcesContent":["<template>\r\n    <nav>\r\n      <div class=\"logo\"></div>\r\n      <h3 class=\"title\">椿忆·时空匣</h3>\r\n      <button\r\n          class=\"menu-toggle\"\r\n          @click=\"toggleMenu\"\r\n          :class=\"{ 'active': isMenuOpen }\"\r\n          aria-label=\"导航菜单\"\r\n      >☰</button>\r\n\r\n      <div\r\n          class=\"nav-links\"\r\n          :class=\"{ 'active': isMenuOpen }\"\r\n          @click=\"closeMenu\"\r\n      >\r\n        <router-link\r\n            class=\"nav-link\"\r\n            to=\"home\"\r\n            exact-active-class=\"active\"\r\n        >\r\n          首页\r\n        </router-link>\r\n        <router-link\r\n            class=\"nav-link\"\r\n            to=\"record\"\r\n            active-class=\"active\"\r\n        >\r\n          回放直播\r\n        </router-link>\r\n        <router-link\r\n            class=\"nav-link\"\r\n            to=\"login\"\r\n            active-class=\"active\"\r\n        >\r\n          小羽毛注册/登录\r\n        </router-link>\r\n      </div>\r\n    </nav>\r\n\r\n    <div class=\"banner-container\">\r\n      <div class=\"banner-image\"></div>\r\n      <div class=\"banner-text\">\r\n        ೀ⊹⁺ 𝒱𝒶𝓁𝓁ℯ𝓎 𝒮𝓅𝒶𝓇𝓇ℴ𝓌 ഒ₊⁺<br>\r\n        生命如暗室 不妨我明写春诗\r\n      </div>\r\n    </div>\r\n  </template>\r\n\r\n  <script setup>\r\n  import {ref} from 'vue'\r\n  import {onMounted} from 'vue';\r\n  import {useRouter} from 'vue-router';\r\n\r\n  const router = useRouter();\r\n\r\n  onMounted(() => {\r\n    const userAgent = navigator.userAgent.toLowerCase();\r\n\r\n    // 检测是否为桌面端（取反逻辑）\r\n    const isDesktop = !/iphone|ipad|ipod|android/.test(userAgent);\r\n\r\n    if (isDesktop) {\r\n      // 跳转到桌面端路由\r\n      //router.replace('/');\r\n      console.log('1')\r\n    }\r\n  });\r\n\r\n  const isMenuOpen = ref(false)\r\n\r\n  const toggleMenu = () => {\r\n    isMenuOpen.value = !isMenuOpen.value\r\n  }\r\n\r\n  const closeMenu = () => {\r\n    if (window.innerWidth < 769) {\r\n      isMenuOpen.value = false\r\n    }\r\n  }\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n/* 基础变量 */\r\n:root {\r\n  --primary-color: rgb(219, 102, 119);\r\n  --text-light: #ffffff;\r\n  --hover-blue: #5984ef;\r\n  --transition-speed: 0.3s;\r\n}\r\n\r\n/* 重置样式 */\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n  -webkit-tap-highlight-color: transparent;\r\n}\r\n\r\nbody {\r\n  overflow-x: hidden;\r\n}\r\n\r\n/* 导航栏样式 */\r\n  nav {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 12px;\r\n    background: var(--primary-color);\r\n    position: relative;\r\n    gap: 12px;\r\n    flex-wrap: wrap;\r\n  }\r\n\r\n  .logo {\r\n    width: 36px;\r\n    height: 36px;\r\n    background: url('../../assets/cl-logo.jpeg') center/contain no-repeat;\r\n    flex-shrink: 0;\r\n  }\r\n\r\n  .title {\r\n    font-size: 16px;\r\n    color: var(--text-light);\r\n    font-weight: 500;\r\n    line-height: 1.3;\r\n    max-width: calc(100% - 100px);\r\n    order: 1;\r\n  }\r\n\r\n  .menu-toggle {\r\n    display: block;\r\n    background: none;\r\n    border: none;\r\n    color: var(--text-light);\r\n    font-size: 24px;\r\n    order: 2;\r\n    margin-left: auto;\r\n    padding: 8px;\r\n    transition: transform var(--transition-speed) ease;\r\n    touch-action: manipulation;\r\n  }\r\n\r\n  /* 导航链接 */\r\n  .nav-links {\r\n    width: 100%;\r\n    max-height: 0;\r\n    overflow: hidden;\r\n    transition: max-height var(--transition-speed) ease-out;\r\n    flex-direction: column;\r\n    gap: 8px;\r\n    order: 3;\r\n    background: rgba(0, 0, 0, 0.1);\r\n    border-radius: 8px;\r\n  }\r\n\r\n  .nav-links.active {\r\n    max-height: 300px;\r\n    padding: 8px 0;\r\n  }\r\n\r\n  .nav-link {\r\n    color: var(--text-light);\r\n    text-decoration: none;\r\n    font-size: 15px;\r\n    padding: 12px 16px;\r\n    border-radius: 6px;\r\n    transition:\r\n        background var(--transition-speed),\r\n        transform 0.2s ease;\r\n    display: block;\r\n  }\r\n\r\n  .nav-link.active {\r\n    background: rgba(255, 255, 255, 0.15);\r\n  }\r\n\r\n  /* 横幅样式 */\r\n  .banner-container {\r\n    position: relative;\r\n    width: 100%;\r\n    height: 60vh;\r\n  }\r\n\r\n  .banner-image {\r\n    width: 100%;\r\n    height: 100%;\r\n    background: url('../../assets/main-bg.png') center/cover;\r\n    animation: scaleIn 1s ease-out forwards;\r\n  }\r\n\r\n  .banner-text {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    text-align: center;\r\n    color: var(--text-light);\r\n    font-size: clamp(20px, 6vw, 28px);\r\n    line-height: 1.4;\r\n    width: 90%;\r\n    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.6);\r\n    animation:\r\n        fadeSlideUp 0.8s ease-out forwards,\r\n        textGlow 2s ease-in-out infinite;\r\n  }\r\n\r\n  /* 动画 */\r\n  @keyframes fadeSlideUp {\r\n    from {\r\n      opacity: 0;\r\n      transform: translate(-50%, calc(-50% + 30px));\r\n    }\r\n    to {\r\n      opacity: 1;\r\n      transform: translate(-50%, -50%);\r\n    }\r\n  }\r\n\r\n  @keyframes textGlow {\r\n    50% {\r\n      text-shadow:\r\n          0 0 15px rgba(255,255,255,0.4),\r\n          0 0 25px rgba(255,255,255,0.2);\r\n    }\r\n  }\r\n\r\n  @keyframes scaleIn {\r\n    from {\r\n      opacity: 0;\r\n      transform: scale(1.1);\r\n    }\r\n    to {\r\n      opacity: 1;\r\n      transform: scale(1);\r\n    }\r\n  }\r\n\r\n  /* 桌面端适配 */\r\n  @media (min-width: 769px) {\r\n    nav {\r\n      padding: 1rem 2rem;\r\n      flex-wrap: nowrap;\r\n    }\r\n\r\n    .title {\r\n      font-size: 20px;\r\n      max-width: none;\r\n      order: 0;\r\n    }\r\n\r\n    .menu-toggle {\r\n      display: none;\r\n    }\r\n\r\n    .nav-links {\r\n      max-height: none !important;\r\n      flex-direction: row;\r\n      width: auto;\r\n      gap: 2rem;\r\n      background: none;\r\n      order: 0;\r\n      padding: 0 !important;\r\n    }\r\n\r\n    .nav-link {\r\n      padding: 0;\r\n      background: none !important;\r\n      width: auto;\r\n    }\r\n\r\n    .nav-link::after {\r\n      content: '';\r\n      display: block;\r\n      width: 0;\r\n      height: 2px;\r\n      background: var(--hover-blue);\r\n      transition: width var(--transition-speed);\r\n    }\r\n\r\n    .nav-link:hover::after {\r\n      width: 100%;\r\n    }\r\n\r\n    .banner-container {\r\n      height: 100vh;\r\n    }\r\n  }\r\n\r\n  /* 触控优化 */\r\n  @media (hover: none) {\r\n    .nav-link:active {\r\n      background: rgba(255,255,255,0.2) !important;\r\n      transform: scale(0.98);\r\n    }\r\n\r\n    .nav-link::after {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  /* 无障碍优化 */\r\n  @media (prefers-reduced-motion: reduce) {\r\n    * {\r\n      animation: none !important;\r\n      transition: none !important;\r\n    }\r\n  }\r\n\r\n  /* 小屏幕优化 */\r\n  @media (max-width: 360px) {\r\n    .title {\r\n      font-size: 14px;\r\n    }\r\n\r\n    .nav-link {\r\n      font-size: 14px;\r\n      padding: 10px;\r\n    }\r\n  }\r\n\r\n  /* 性能优化 */\r\n  .banner-image {\r\n    will-change: transform;\r\n    backface-visibility: hidden;\r\n  }\r\n  </style>"],"mappings":"AAkDE,SAAQA,GAAG,QAAO,KAAK;AACvB,SAAQC,SAAS,QAAO,KAAK;AAC7B,SAAQC,SAAS,QAAO,YAAY;;;;;;;IAEpC,MAAMC,MAAM,GAAGD,SAAS,CAAC,CAAC;IAE1BD,SAAS,CAAC,MAAM;MACd,MAAMG,SAAS,GAAGC,SAAS,CAACD,SAAS,CAACE,WAAW,CAAC,CAAC;;MAEnD;MACA,MAAMC,SAAS,GAAG,CAAC,0BAA0B,CAACC,IAAI,CAACJ,SAAS,CAAC;MAE7D,IAAIG,SAAS,EAAE;QACb;QACA;QACAE,OAAO,CAACC,GAAG,CAAC,GAAG,CAAC;MAClB;IACF,CAAC,CAAC;IAEF,MAAMC,UAAU,GAAGX,GAAG,CAAC,KAAK,CAAC;IAE7B,MAAMY,UAAU,GAAGA,CAAA,KAAM;MACvBD,UAAU,CAACE,KAAK,GAAG,CAACF,UAAU,CAACE,KAAK;IACtC,CAAC;IAED,MAAMC,SAAS,GAAGA,CAAA,KAAM;MACtB,IAAIC,MAAM,CAACC,UAAU,GAAG,GAAG,EAAE;QAC3BL,UAAU,CAACE,KAAK,GAAG,KAAK;MAC1B;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}